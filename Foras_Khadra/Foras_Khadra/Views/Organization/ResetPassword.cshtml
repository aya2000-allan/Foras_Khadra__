@model Foras_Khadra.Models.OrganizationResetPasswordViewModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<h3 class="mb-4">إعادة تعيين كلمة المرور</h3>

<form asp-action="ResetPassword" method="post" id="resetPasswordForm">
    <input type="hidden" asp-for="Email" />
    <input type="hidden" asp-for="Token" />

    <div class="mb-3">
        <label asp-for="Password" class="form-label">كلمة المرور الجديدة</label>
        <input asp-for="Password" class="form-control" />
        <span asp-validation-for="Password" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label asp-for="ConfirmPassword" class="form-label">تأكيد كلمة المرور</label>
        <input asp-for="ConfirmPassword" class="form-control" />
        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-success">إعادة تعيين كلمة المرور</button>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        // فورم يتحقق من الفليديشن قبل الإرسال
        (function () {
            'use strict'
            var form = document.getElementById('resetPasswordForm')
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }
                form.classList.add('was-validated')
            }, false)
        })()
    </script>
}