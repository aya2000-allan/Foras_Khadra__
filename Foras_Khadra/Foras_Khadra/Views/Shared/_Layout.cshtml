<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Foras_Khadra</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="~/css/layout_style.css">
    
</head>
<body>
    @{
        // اسم الـ Action الحالي
        var currentAction = ViewContext.RouteData.Values["Action"]?.ToString();

        // اسم الكنترولر الحالي
        var currentController = ViewContext.RouteData.Values["Controller"]?.ToString();

        // نخفي الـ Navbar فقط لصفحات Create, Edit, Index في TeamMembersController
        var hideNav = currentController == "Team"
        && new[] { "Create", "Edit", "Index", "Details" }.Contains(currentAction);

        var hideNav2 = currentController == "Articles"
        && new[] { "Create", "Edit", "Index", "Details" }.Contains(currentAction);


        var hideNav3 = currentController == "Opportunity"
        && new[] { "Create", "Edit", "Index"}.Contains(currentAction);

    }

    @if (!hideNav && !hideNav2 && !hideNav3)
    {
        <header>


            <div class="top-banner">
                <!-- الشعار ثابت في الأعلى -->
                <div class="logo">
                    <img src="~/Images/logo.png" alt="شعار المنصة" asp-append-version="true" />
                </div>
                <!-- Hamburger Icon for Small Screens -->
                <button class="hamburger " onclick="toggleMenu()">
                    <iconify-icon icon="tabler:list" style="    font-size: 2.5rem;" />
                </button>

                <!-- القائمة التي تظهر وتختفي -->
                <div class="nav-content" id="navContent">
                    <div class="menu-items">
                        <a asp-controller="Home" asp-action="Index">الرئيسية</a>
                        <a asp-controller="Home" asp-action="Articles">المقالات</a>
                        <a asp-controller="Home" asp-action="News">الأخبار</a>

                        <div class="custom-dropdown">
                            <button class="dropdown-button" onclick="toggleDropdown()">الفرص ▾</button>
                            <div class="dropdown-list" id="customDropdown">
                                <a asp-controller="Home" asp-action="AllOpportunities">كل الفرص</a>
                                <a asp-controller="Home" asp-action="AllOpportunities" asp-route-type="Competitions">المسابقات</a>
                                <a asp-controller="Home" asp-action="AllOpportunities" asp-route-type="Conferences">المؤتمرات</a>
                                <a asp-controller="Home" asp-action="AllOpportunities" asp-route-type="Volunteering">فرص التطوع</a>
                                <a asp-controller="Home" asp-action="AllOpportunities" asp-route-type="Jobs">الوظائف</a>
                                <a asp-controller="Home" asp-action="AllOpportunities" asp-route-type="Scholarships">المنح</a>
                                <a asp-controller="Home" asp-action="AllOpportunities" asp-route-type="Fellowships">الزمالات</a>
                                <a asp-controller="Home" asp-action="AllOpportunities" asp-route-type="Internships">فرص التدريب</a>
                            </div>
                        </div>

                        <a asp-controller="Home" asp-action="AboutUs">من نحن</a>
                        <a asp-controller="contact" asp-action="Index">اتصل بنا</a>
                    </div>

                    <div class="auth-section">
                        <a class="login-btn" asp-controller="Account" asp-action="Login">تسجيل الدخول</a>
                        <button class="signup-btn">إنشاء حساب</button>
                        <div class="language-dropdown">
                            <button class="language-toggle" onclick="toggleLangMenu()">
                                <img src="~/Images/sa.png" alt="العربية" class="lang-flag d-inline d-sm-none d-md-inline" />
                                <span class="lang-text d-none d-sm-inline d-md-none text-white">اللغة</span>
                                <span class="dropdown-arrow">▾</span>
                            </button>

                            <div class="language-menu" id="languageMenu">
                                <div class="lang-option active">

                                    <img src="~/Images/sa.png" alt="العربية">
                                    <span>العربية</span>
                                </div>
                                <div class="lang-option">
                                    <img src="~/Images/us.png" alt="English">
                                    <span>English</span>
                                </div>
                                <div class="lang-option">
                                    <img src="~/Images/fr.png" alt="French">
                                    <span>French</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



        </header>
    }

    <script>
        function toggleLangMenu() {
          document.getElementById("languageMenu").classList.toggle("show");
        }

        document.addEventListener("click", function (event) {
          const langMenu = document.getElementById("languageMenu");
          const toggleBtn = document.querySelector(".language-toggle");
          if (!langMenu.contains(event.target) && !toggleBtn.contains(event.target)) {
            langMenu.classList.remove("show");
          }
        });

        function toggleMenu() {
        const nav = document.getElementById("navContent");
        nav.classList.toggle("show");
        }

        
    </script>
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>
    @if (!hideNav && !hideNav2 && !hideNav3)
    {
    <footer class="custom-footer">
        <div class="footer-container">
            <div class="footer-left">
                <!-- العنصر الذي يحتوي النص أو الصورة حسب  اتجاه اللغة عربي/انجليزي-->

                <h2 class="footer-heading" lang="ar">من و إلى شباب عربي</h2>
                <img src="/images/footerText.png" alt="footer text" class="footer-heading-img" />
                <div class="social-icons">
                    <div class="social-icons">
                        <a href="#"><iconify-icon icon="ic:round-email" width="34" height="34"></iconify-icon></a>
                        <a href="https://www.linkedin.com/company/foraskhadra/"><iconify-icon icon="mage:linkedin" width="34" height="34"></iconify-icon></a>
                        <a href="https://www.facebook.com/profile.php?id=61559156656756"><iconify-icon icon="mage:facebook-square" width="34" height="34"></iconify-icon></a>
                        <a href="https://www.instagram.com/foras_khadra/"><iconify-icon icon="basil:instagram-solid" width="34" height="34"></iconify-icon></a>
                    </div>

                </div>
                <div class="subscribe-box">
                    <p>اشترك في قائمتنا البريدية</p>
                    <form>
                        <input type="email" placeholder="اكتب بريدك الإلكتروني ..." />
                        <button type="submit">اشتراك</button>
                    </form>
                </div>
            </div>

            <div class="footer-links">
                <div class="footer-column">
                    <h4>تصفح الفرص</h4>
                    <ul>
                        <li><a href="#">كل الفرص</a></li>
                        <li><a href="#">المسابقات</a></li>
                        <li><a href="#">المؤتمرات</a></li>
                        <li><a href="#">فرص التطوع</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4></h4>
                    <ul>
                        <li><a href="#">الوظائف</a></li>
                        <li><a href="#">المنح</a></li>
                        <li><a href="#">الزمالات</a></li>
                        <li><a href="#">فرص التدريب</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>روابط إضافية</h4>
                    <ul>
                        <li><a href="#">المقالات</a></li>
                        <li><a href="#">من نحن</a></li>
                        <li>
                            <a asp-controller="contact" asp-action="Index">اتصل بنا</a>
                        </li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>سياساتنا</h4>
                    <ul>
                        <li><a href="#">سياسة الخصوصية</a></li>
                        <li><a href="#">سياسة الاستخدام</a></li>
                        <li><a href="#">الشروط والأحكام</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-logo">
                <img src="/images/logo.png" alt="شعار فرص خضراء" />
            </div>
        </div>

        <div class="footer-bottom">
            <p>جميع الحقوق محفوظة © 2025</p>
        </div>
    </footer>
    }
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.8/iconify-icon.min.js"></script>
    <script>
        function toggleDropdown() {
          const list = document.getElementById('customDropdown');
          const button = document.querySelector('.dropdown-button');
          list.classList.toggle('show');
           button.classList.toggle('show');

        }

        window.addEventListener('click', function (e) {
          const button = document.querySelector('.dropdown-button');
          const dropdown = document.getElementById('customDropdown');
          if (!button.contains(e.target) && !dropdown.contains(e.target)) {
            dropdown.classList.remove('show');
          }
        });
    </script>
    <script src="https://code.iconify.design/iconify-icon/1.0.8/iconify-icon.min.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
